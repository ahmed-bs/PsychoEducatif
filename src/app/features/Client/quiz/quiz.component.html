<div class="quiz-container">
  <h2>{{ categorie }}</h2>
  <div class="progress-indicator">
    <p>Sous-compétence {{ currentIndex + 1 }} sur {{ sousCompetences.length }}</p>
  </div>
  <form #quizForm="ngForm">
    <div class="sub-skill mb-3">
      <p class="skill-description">{{ sousCompetences[currentIndex].description }}</p>
      
      <div class="btn-group" role="group">
        <input
          type="radio"
          class="btn-check"
          id="{{ sousCompetences[currentIndex].description }}-acquise"
          value="acquise"
          [(ngModel)]="sousCompetences[currentIndex].statut"
          [name]="sousCompetences[currentIndex].description"
        />
        <label
          class="btn btn-outline-success"
          for="{{ sousCompetences[currentIndex].description }}-acquise"
        >Acquise</label>

        <input
          type="radio"
          class="btn-check"
          id="{{ sousCompetences[currentIndex].description }}-non-acquise"
          value="non acquise"
          [(ngModel)]="sousCompetences[currentIndex].statut"
          [name]="sousCompetences[currentIndex].description"
        />
        <label
          class="btn btn-outline-danger"
          for="{{ sousCompetences[currentIndex].description }}-non-acquise"
        >Non acquise</label>

      
      </div>

      <!-- Champ de commentaire ajouté -->
      <div class="comment-section mt-3">
        <label for="comment-{{currentIndex}}" class="form-label">Observations :</label>
        <textarea 
          class="form-control" 
          id="comment-{{currentIndex}}" 
          rows="3"
          [(ngModel)]="sousCompetences[currentIndex].commentaire"
          [name]="'comment-'+currentIndex"
          placeholder="Notes complémentaires sur cette compétence..."></textarea>
      </div>
    </div>

    <div class="navigation-buttons">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="precedent()"
        [disabled]="currentIndex === 0"
      >
        Précédent
      </button>
      <button
        type="button"
        class="btn btn-secondary"
        (click)="suivant()"
        [disabled]="currentIndex === sousCompetences.length - 1"
        *ngIf="currentIndex < sousCompetences.length - 1"
      >
        Suivant
      </button>
      <button
        type="button"
        class="btn btn-primary"
        (click)="soumettreQuiz(categorie)"
        *ngIf="currentIndex === sousCompetences.length - 1"
      >
        Soumettre
      </button>
    </div>
  </form>
</div>