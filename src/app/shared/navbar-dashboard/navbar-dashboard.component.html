<!-- Desktop Navbar (Old Style) -->
<nav class="desktop-navbar" *ngIf="isDesktop()">
  <i class='bx bx-menu text-2xl cursor-pointer text-gray-700' (click)="toggleSidebarState()"></i>

  <div class="md:hidden flex items-center">
    <img class="icon mr-2" src="assets/logo.png" alt="" style="width: 30px; height: 30px;">
    <div class="logo-name text-lg font-bold text-gray-800"><span>Evalu'</span>Action</div>
  </div>

  <div class="desktop-right-section">
    <!-- Language Switcher for Desktop -->
    <div class="language-menu-container">
      <button 
        class="lang-icon-btn-desktop" 
        (click)="toggleLanguageMenu()"
        [attr.aria-label]="'Language selector'">
        <i class='bx bx-globe'></i>
      </button>
      <div class="language-dropdown" *ngIf="showLanguageMenu">
        <button 
          class="lang-option" 
          [class.active]="currentLang === 'fr'"
          (click)="switchLanguage('fr')">
          <span class="lang-code">FR</span>
          <span class="lang-name">Français</span>
        </button>
        <button 
          class="lang-option" 
          [class.active]="currentLang === 'ar'"
          (click)="switchLanguage('ar')">
          <span class="lang-code">عربي</span>
          <span class="lang-name">العربية</span>
        </button>
        <button 
          class="lang-option" 
          [class.active]="currentLang === 'en'"
          (click)="switchLanguage('en')">
          <span class="lang-code">EN</span>
          <span class="lang-name">English</span>
        </button>
      </div>
    </div>

    <a class="profile"> <img src="assets/logo.png" alt="Profile" class="w-9 h-9 object-cover rounded-full">
    </a>
  </div>
</nav>

<!-- Mobile/Tablet Navbar (New Style) -->
<nav class="modern-navbar" *ngIf="!isDesktop()">
  <div class="navbar-left">
    <div class="brand">
      <img src="assets/logo.png" alt="Logo" class="brand-logo">
      <span class="brand-text">Evalu'Action</span>
    </div>
  </div>

  <!-- <div class="navbar-center">
    <div class="search-container">
      <i class='bx bx-search search-icon'></i>
      <input type="text" placeholder="Search..." class="search-input">
    </div>
  </div> -->

  <div class="navbar-right">
    <div class="nav-actions">
      <!-- Language Switcher -->
      <div class="language-menu-container">
        <button 
          class="lang-icon-btn" 
          (click)="toggleLanguageMenu()"
          [attr.aria-label]="'Language selector'">
          <i class='bx bx-globe'></i>
        </button>
        <div class="language-dropdown" *ngIf="showLanguageMenu">
          <button 
            class="lang-option" 
            [class.active]="currentLang === 'fr'"
            (click)="switchLanguage('fr')">
            <span class="lang-code">FR</span>
            <span class="lang-name">Français</span>
          </button>
          <button 
            class="lang-option" 
            [class.active]="currentLang === 'ar'"
            (click)="switchLanguage('ar')">
            <span class="lang-code">عربي</span>
            <span class="lang-name">العربية</span>
          </button>
          <button 
            class="lang-option" 
            [class.active]="currentLang === 'en'"
            (click)="switchLanguage('en')">
            <span class="lang-code">EN</span>
            <span class="lang-name">English</span>
          </button>
        </div>
      </div>
      
      <div class="user-profile">
        <img src="assets/logo.png" alt="Profile" class="profile-img">
        <div class="profile-info">
          <span class="profile-name">{{ currentUser?.username || currentUser?.email || 'User' }}</span>
          <span class="profile-role">Parent</span>
        </div>
      </div>
    </div>
  </div>
</nav>